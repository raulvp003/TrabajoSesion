<!DOCTYPE html>
<html lang="es">
<head>
    <title>Main Page Bank</title>
    <meta charset="UTF-8">
    <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
    <link rel="icon" type="image/png" href="../logo.png">
    <link rel="stylesheet" href="../darkMode.css"><!-- Archivo CSS alternativo. Modo oscuro. -->
    <script type="text/javascript" src="../darkMode.js" defer></script><!-- Archivo js alternativo. Modo oscuro. -->
    <link rel="stylesheet" href="../css/CSSlogin.css">
        
</head>


<body>
    <img id="darkModeToggle" src="../moon.png" alt="dark mode">
    <div class="cabecera">
        <img class="imagen" src="../logo.png">
        <div class="usuario" id="usuario">
            <div class="ajustes" id="ajustes">Settings</div>
            <div class="menu" id="menu">
                <a href="ChangePassword/CambioContraseña.html" class="eleccion">Change Password</a>
                <button id="cerrarSesion" class="eleccion">Log out</button>
            </div>
        </div>

    </div>
    <div class="cuerpo">
        <div class="bienvenido">
            <h1>¡Welcome, <span id="nombreUsuario"></span>!</h1>
            <p>Access your bank account information, transactions, and more :D.</p>
        </div>
    </div>
    
    <script>
        /*if (!sessionStorage.getItem("customer.id")) {
            window.location.href = "../index.html"; 
        }*/
    
        const usuario = document.getElementById("usuario");
        const ajustes = document.getElementById("ajustes");
        const menu = document.getElementById("menu");
        const cerrarSesion = document.getElementById("cerrarSesion");

        const nombre = sessionStorage.getItem("customer.firstName") || "Usuario";
        document.getElementById("nombreUsuario").textContent = nombre;

        ajustes.addEventListener("click", () => {
            menu.classList.toggle("show");
        });

        cerrarSesion.addEventListener("click", () => {
            sessionStorage.clear();                  
            window.location.href = "../index.html"; 
        });

        window.addEventListener("click", (e) => {
            if (!usuario.contains(e.target)) {
                menu.classList.remove("show");
            }
        });

        
    </script>
</body>
</html>